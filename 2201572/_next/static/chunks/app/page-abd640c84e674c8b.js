(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5176:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),r=t(2115);function l(){let[e,s]=(0,r.useState)(!1);return(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 flex items-center justify-center",children:(0,a.jsx)("img",{src:"https://static.readdy.ai/image/f7b281f59637965b0599d1751458ef9b/f1d8f0c2c71bd3c4a2cf2cecaade4b72.png",alt:"多点logo",className:"w-12 h-12 object-contain"})}),(0,a.jsx)("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"智慧保洁系统"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-notification-3-line text-xl"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>s(!e),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 cursor-pointer",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-user-line text-blue-600"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"门店经理"}),(0,a.jsx)("i",{className:"ri-arrow-down-s-line text-gray-500"})]}),e&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[(0,a.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"个人设置"}),(0,a.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"门店管理"}),(0,a.jsx)("hr",{className:"my-1"}),(0,a.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"退出登录"})]})]})]})]})})})}function i(){let e=e=>({blue:"bg-blue-50 text-blue-600 border-blue-200",orange:"bg-orange-50 text-orange-600 border-orange-200",green:"bg-green-50 text-green-600 border-green-200",red:"bg-red-50 text-red-600 border-red-200"})[e];return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"今日任务",value:"24",change:"+3",changeType:"increase",icon:"ri-task-line",color:"blue"},{title:"进行中",value:"8",change:"+2",changeType:"increase",icon:"ri-time-line",color:"orange"},{title:"已完成",value:"12",change:"+5",changeType:"increase",icon:"ri-checkbox-circle-line",color:"green"},{title:"异常任务",value:"2",change:"-1",changeType:"decrease",icon:"ri-error-warning-line",color:"red"}].map((s,t)=>(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s.title}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:s.value}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)("span",{className:"text-xs font-medium ".concat("increase"===s.changeType?"text-green-600":"text-red-600"),children:s.change}),(0,a.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"较昨日"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg border flex items-center justify-center ".concat(e(s.color)),children:(0,a.jsx)("i",{className:"".concat(s.icon," text-xl")})})]})},t))})}function n(e){let{onClose:s,onSave:t,prefilledArea:l}=e,[i,n]=(0,r.useState)({title:"",areas:[],assigneeType:"human",assignee:"",priority:"medium",startTime:"",endTime:"",recurring:!1,recurringType:"daily",description:""});(0,r.useEffect)(()=>{l&&n(e=>({...e,areas:[l],title:"".concat(l,"清洁任务")}))},[l]);let c=e=>{n(s=>({...s,areas:s.areas.includes(e)?s.areas.filter(s=>s!==e):[...s.areas,e]}))};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l?"为".concat(l,"创建清洁任务"):"创建清洁任务"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line text-xl"})})]})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("创建任务:",i),t()},className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"任务名称"}),(0,a.jsx)("input",{type:"text",value:i.title,onChange:e=>n({...i,title:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"请输入任务名称",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"优先级"}),(0,a.jsxs)("select",{value:i.priority,onChange:e=>n({...i,priority:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm pr-8",children:[(0,a.jsx)("option",{value:"low",children:"低"}),(0,a.jsx)("option",{value:"medium",children:"中"}),(0,a.jsx)("option",{value:"high",children:"高"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"清洁区域（可多选）"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["生鲜区","主通道","收银台","洗手间","储物区","员工区","货架区A","货架区B","货架区C","仓储区","休息区","办公区"].map(e=>(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:i.areas.includes(e),onChange:()=>c(e),className:"mr-2 cursor-pointer"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))}),0===i.areas.length&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"请至少选择一个清洁区域"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"执行者类型"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"human",checked:"human"===i.assigneeType,onChange:e=>n({...i,assigneeType:e.target.value,assignee:""}),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"保洁员"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"robot",checked:"robot"===i.assigneeType,onChange:e=>n({...i,assigneeType:e.target.value,assignee:""}),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"机器人"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"指派给"}),(0,a.jsxs)("select",{value:i.assignee,onChange:e=>n({...i,assignee:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm pr-8",required:!0,children:[(0,a.jsx)("option",{value:"",children:"请选择执行者"}),("human"===i.assigneeType?["张小明","李小红","王大力","赵小芳"]:["清洁机器人-01","清洁机器人-02","清洁机器人-03"]).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"开始时间"}),(0,a.jsx)("input",{type:"time",value:i.startTime,onChange:e=>n({...i,startTime:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"结束时间"}),(0,a.jsx)("input",{type:"time",value:i.endTime,onChange:e=>n({...i,endTime:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",required:!0})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:i.recurring,onChange:e=>n({...i,recurring:e.target.checked}),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"设置为周期性任务"})]})}),i.recurring&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"重复频率"}),(0,a.jsxs)("select",{value:i.recurringType,onChange:e=>n({...i,recurringType:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm pr-8",children:[(0,a.jsx)("option",{value:"daily",children:"每日"}),(0,a.jsx)("option",{value:"weekly",children:"每周"}),(0,a.jsx)("option",{value:"monthly",children:"每月"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"任务描述"}),(0,a.jsx)("textarea",{value:i.description,onChange:e=>n({...i,description:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",rows:3,placeholder:i.areas.length>0?"请输入".concat(i.areas.join("、"),"的清洁要求..."):"请输入任务详细描述..."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg whitespace-nowrap cursor-pointer",children:"取消"}),(0,a.jsx)("button",{type:"submit",disabled:0===i.areas.length,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 rounded-lg whitespace-nowrap cursor-pointer",children:"创建任务"})]})]})]})})}function c(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(null),[d,x]=(0,r.useState)(!1),[m,o]=(0,r.useState)(null),[h,g]=(0,r.useState)("map"),[p,u]=(0,r.useState)(null),[j,y]=(0,r.useState)(""),b=[{id:"1",name:"生鲜区",x:50,y:100,width:180,height:120,status:"completed",assignee:"张小明",type:"human"},{id:"2",name:"主通道",x:250,y:80,width:300,height:60,status:"cleaning",assignee:"清洁机器人-01",type:"robot"},{id:"3",name:"收银台",x:580,y:50,width:150,height:100,status:"normal"},{id:"4",name:"货架区A",x:80,y:250,width:160,height:140,status:"normal"},{id:"5",name:"货架区B",x:260,y:250,width:160,height:140,status:"cleaning",assignee:"清洁机器人-03",type:"robot"},{id:"6",name:"货架区C",x:440,y:250,width:160,height:140,status:"normal"},{id:"7",name:"洗手间",x:50,y:420,width:100,height:80,status:"warning",assignee:"王大力",type:"human"},{id:"8",name:"仓储区",x:580,y:180,width:150,height:200,status:"normal"},{id:"9",name:"休息区",x:170,y:420,width:120,height:80,status:"completed"},{id:"10",name:"办公区",x:580,y:400,width:150,height:100,status:"normal"}],N=[{id:"1",name:"清洁机器人-01",x:350,y:110,status:"online",battery:85},{id:"2",name:"清洁机器人-02",x:650,y:450,status:"charging",battery:45},{id:"3",name:"清洁机器人-03",x:340,y:320,status:"online",battery:92}],f=[{id:"1",name:"生鲜区监控",area:"生鲜区",status:"online"},{id:"2",name:"主通道监控1",area:"主通道",status:"online"},{id:"3",name:"主通道监控2",area:"主通道",status:"online"},{id:"4",name:"收银台监控",area:"收银台",status:"online"},{id:"5",name:"货架区A监控",area:"货架区A",status:"online"},{id:"6",name:"货架区B监控",area:"货架区B",status:"online"},{id:"7",name:"货架区C监控",area:"货架区C",status:"online"},{id:"8",name:"洗手间监控",area:"洗手间",status:"online"},{id:"9",name:"仓储区监控",area:"仓储区",status:"online"}];(0,r.useEffect)(()=>{let e=()=>{y(new Date().toLocaleTimeString())};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]);let v=e=>({normal:"fill-gray-100 stroke-gray-300",cleaning:"fill-orange-100 stroke-orange-400",completed:"fill-green-100 stroke-green-400",warning:"fill-red-100 stroke-red-400"})[e],w=e=>({normal:"正常",cleaning:"清洁中",completed:"已完成",warning:"异常"})[e],k=e=>({online:"fill-green-500",charging:"fill-yellow-500",offline:"fill-gray-400"})[e],C=e=>{let s=f.find(s=>s.id===e);if(s){let t=b.find(e=>e.name===s.area);t&&(o(t),u(e),x(!0))}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"map"===h?"商超平面图":"实时视频监控"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,a.jsxs)("button",{onClick:()=>g("map"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ".concat("map"===h?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)("i",{className:"ri-map-2-line mr-1"}),"平面图"]}),(0,a.jsxs)("button",{onClick:()=>g("video"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ".concat("video"===h?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)("i",{className:"ri-camera-line mr-1"}),"视频监控"]})]}),"map"===h&&(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gray-100 border border-gray-300 rounded mr-2"}),(0,a.jsx)("span",{className:"text-gray-600",children:"正常"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-orange-100 border border-orange-400 rounded mr-2"}),(0,a.jsx)("span",{className:"text-gray-600",children:"清洁中"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-100 border border-green-400 rounded mr-2"}),(0,a.jsx)("span",{className:"text-gray-600",children:"已完成"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-100 border border-red-400 rounded mr-2"}),(0,a.jsx)("span",{className:"text-gray-600",children:"异常"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,a.jsx)("i",{className:"ri-time-line mr-1"}),"最新更新: ",j]})]})]}),"map"===h?(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 overflow-auto",children:(0,a.jsxs)("svg",{width:"800",height:"550",viewBox:"0 0 800 550",className:"border border-gray-200 bg-white rounded",children:[b.map(e=>(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{x:e.x,y:e.y,width:e.width,height:e.height,className:"".concat(v(e.status)," cursor-pointer hover:opacity-80 transition-opacity"),strokeWidth:"2",onClick:()=>{o(e),x(!0)}}),(0,a.jsx)("text",{x:e.x+e.width/2,y:e.y+e.height/2-10,textAnchor:"middle",className:"fill-gray-700 text-sm font-medium pointer-events-none",children:e.name}),(0,a.jsx)("text",{x:e.x+e.width/2,y:e.y+e.height/2+8,textAnchor:"middle",className:"fill-gray-600 text-xs pointer-events-none",children:w(e.status)}),e.assignee&&(0,a.jsx)("text",{x:e.x+e.width/2,y:e.y+e.height/2+22,textAnchor:"middle",className:"fill-gray-500 text-xs pointer-events-none",children:e.assignee})]},e.id)),N.map(e=>(0,a.jsxs)("g",{children:[(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:"12",className:"".concat(k(e.status)," cursor-pointer hover:opacity-80 transition-opacity"),stroke:"white",strokeWidth:"2",onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null),onClick:()=>l(t===e.id?null:e.id)}),(0,a.jsx)("text",{x:e.x,y:e.y+2,textAnchor:"middle",className:"fill-white text-xs font-bold pointer-events-none",children:"R"}),i===e.id&&(0,a.jsx)("foreignObject",{x:e.x+15,y:e.y-30,width:"140",height:"80",children:(0,a.jsxs)("div",{className:"bg-gray-900 text-white px-3 py-2 rounded-lg shadow-lg text-xs",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-gray-300",children:["电量: ",e.battery,"%"]}),(0,a.jsxs)("div",{className:"text-gray-300",children:["状态: ","online"===e.status?"运行中":"charging"===e.status?"充电中":"离线"]})]})})]},e.id)),(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{x:"20",y:"200",width:"20",height:"80",className:"fill-blue-500"}),(0,a.jsx)("text",{x:"10",y:"245",className:"fill-gray-700 text-sm font-medium",transform:"rotate(-90 10 245)",children:"主入口"})]}),(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{x:"650",y:"440",width:"15",height:"15",className:"fill-yellow-400 stroke-yellow-600",strokeWidth:"1"}),(0,a.jsx)("text",{x:"670",y:"452",className:"fill-gray-600 text-xs",children:"充电桩A"})]})]})}):(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:f.map(e=>(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg overflow-hidden relative group",children:[(0,a.jsx)("div",{className:"aspect-video",children:(0,a.jsx)("img",{src:"https://readdy.ai/api/search-image?query=supermarket%20surveillance%20camera%20view%20of%20$%7Bcamera.area%7D%20showing%20cleaning%20status%2C%20security%20monitoring%2C%20retail%20environment%20perspective%2C%20realistic%20surveillance%20footage%20style&width=320&height=180&seq=video".concat(e.id,"&orientation=landscape"),alt:"".concat(e.name,"监控画面"),className:"w-full h-full object-cover object-top"})}),(0,a.jsx)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:e.name}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex items-center bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mr-1 ".concat("online"===e.status?"bg-green-500 animate-pulse":"bg-red-500")}),"online"===e.status?"在线":"离线"]}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:new Date().toLocaleTimeString()}),(()=>{let s=b.find(s=>s.name===e.area);return s?(0,a.jsx)("div",{className:"absolute bottom-2 right-2 px-2 py-1 rounded text-xs font-medium ".concat("normal"===s.status?"bg-gray-500 text-white":"cleaning"===s.status?"bg-orange-500 text-white":"completed"===s.status?"bg-green-500 text-white":"bg-red-500 text-white"),children:w(s.status)}):null})(),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>C(e.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-xs font-medium hover:bg-blue-700 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-add-line mr-1"}),"创建任务"]}),(0,a.jsxs)("button",{className:"bg-gray-600 text-white px-3 py-1 rounded text-xs font-medium hover:bg-gray-700 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-fullscreen-line mr-1"}),"全屏"]})]})})]},e.id))})]}),e&&"map"===h&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"区域详情"}),(()=>{let s=b.find(s=>s.id===e);return s?(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"基本信息"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"区域名称:"})," ",s.name]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"当前状态:"})," ",w(s.status)]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"负责人:"})," ",s.assignee||"未分配"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"清洁记录"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"上次清洁:"})," 2小时前"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"今日清洁:"})," 3次"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"质量评分:"})," 4.8/5.0"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"操作"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsx)("button",{onClick:()=>{o(s),x(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 whitespace-nowrap cursor-pointer",children:"创建清洁任务"}),(0,a.jsx)("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 whitespace-nowrap cursor-pointer",children:"查看历史记录"})]})]})]}):null})()]}),t&&"map"===h&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"机器人详情"}),(()=>{let e=N.find(e=>e.id===t);return e?(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"基本信息"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"机器人名称:"})," ",e.name]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"当前状态:"})," ","online"===e.status?"运行中":"charging"===e.status?"充电中":"离线"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"电量:"})," ",e.battery,"%"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"位置信息"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"坐标:"})," (",e.x,", ",e.y,")"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"当前区域:"})," ","charging"===e.status?"充电桩A":"主通道"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"移动速度:"})," 1.2m/s"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"控制操作"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:["online"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-700 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-play-circle-line mr-1"}),"启动任务"]}),(0,a.jsxs)("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-red-700 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-stop-circle-line mr-1"}),"停止任务"]})]}),(0,a.jsxs)("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-map-pin-line mr-1"}),"设置目标位置"]})]})]})]}):null})()]}),d&&(0,a.jsx)(n,{onClose:()=>{x(!1),o(null),u(null)},onSave:()=>{x(!1),o(null),u(null)},prefilledArea:null==m?void 0:m.name})]})}function d(e){let{task:s,onClose:t}=e,[l,i]=(0,r.useState)(5),[n,c]=(0,r.useState)(""),[d,x]=(0,r.useState)(null);return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"质量复核"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[s.title," - ",s.area]})]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line text-xl"})})]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"完成照片"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:["https://readdy.ai/api/search-image?query=clean%20supermarket%20fresh%20produce%20section%20with%20organized%20fruits%20and%20vegetables%2C%20bright%20lighting%2C%20spotless%20floors%2C%20professional%20cleaning%20result&width=300&height=200&seq=quality1&orientation=landscape","https://readdy.ai/api/search-image?query=pristine%20supermarket%20floor%20after%20thorough%20cleaning%2C%20shiny%20surface%20reflecting%20lights%2C%20clean%20organized%20environment&width=300&height=200&seq=quality2&orientation=landscape","https://readdy.ai/api/search-image?query=immaculate%20supermarket%20aisle%20after%20professional%20cleaning%2C%20clean%20shelves%2C%20polished%20floor%2C%20bright%20retail%20environment&width=300&height=200&seq=quality3&orientation=landscape"].map((e,t)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,a.jsx)("img",{src:e,alt:"完成照片 ".concat(t+1),className:"w-full h-48 object-cover object-top"}),(0,a.jsx)("div",{className:"p-3 bg-gray-50",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["拍摄时间: ",new Date().toLocaleString()," | 位置: ",s.area]})})]},t))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"任务详情"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"执行者:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s.assignee})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"完成时间:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"用时:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"28分钟"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"清洁用品:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"多功能清洁剂、拖把"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"质量评分"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(e=>(0,a.jsx)("button",{onClick:()=>i(e),className:"w-8 h-8 flex items-center justify-center cursor-pointer ".concat(e<=l?"text-yellow-400":"text-gray-300"),children:(0,a.jsx)("i",{className:"ri-star-fill text-xl"})},e)),(0,a.jsx)("span",{className:"ml-3 text-sm font-medium text-gray-900",children:5===l?"优秀":4===l?"良好":3===l?"一般":2===l?"需改进":"不合格"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"审核意见"}),(0,a.jsx)("textarea",{value:n,onChange:e=>c(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",rows:4,placeholder:"请输入审核意见..."})]}),null!==d&&(0,a.jsx)("div",{className:"p-4 rounded-lg ".concat(d?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"".concat(d?"ri-checkbox-circle-line text-green-600":"ri-close-circle-line text-red-600"," text-lg mr-2")}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(d?"text-green-800":"text-red-800"),children:d?"任务审核通过！":"任务需要返工！"})]})}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>{x(!1),console.log("任务需要返工:",{taskId:s.id,rating:l,comment:n}),setTimeout(()=>t(),1e3)},disabled:null!==d,className:"flex-1 px-4 py-2 text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg whitespace-nowrap cursor-pointer disabled:opacity-50",children:[(0,a.jsx)("i",{className:"ri-close-line mr-1"}),"需要返工"]}),(0,a.jsxs)("button",{onClick:()=>{x(!0),console.log("任务审核通过:",{taskId:s.id,rating:l,comment:n}),setTimeout(()=>t(),1e3)},disabled:null!==d,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg whitespace-nowrap cursor-pointer disabled:opacity-50",children:[(0,a.jsx)("i",{className:"ri-check-line mr-1"}),"审核通过"]})]})]})]})})]})})}function x(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),[x,m]=(0,r.useState)("all"),o=[{id:"1",title:"生鲜区地面清洁",area:"生鲜区",assignee:"张小明",type:"human",status:"completed",priority:"high",startTime:"08:00",endTime:"08:30",progress:100},{id:"2",title:"主通道拖地",area:"主通道",assignee:"清洁机器人-01",type:"robot",status:"in-progress",priority:"medium",startTime:"09:00",endTime:"09:45",progress:65},{id:"3",title:"收银台区域清洁",area:"收银台",assignee:"李小红",type:"human",status:"pending",priority:"medium",startTime:"10:00",endTime:"10:20",progress:0},{id:"4",title:"洗手间深度清洁",area:"洗手间",assignee:"王大力",type:"human",status:"exception",priority:"high",startTime:"11:00",endTime:"11:30",progress:25}],h=e=>({pending:"bg-gray-100 text-gray-800","in-progress":"bg-orange-100 text-orange-800",completed:"bg-green-100 text-green-800",exception:"bg-red-100 text-red-800"})[e],g=e=>({pending:"待处理","in-progress":"进行中",completed:"已完成",exception:"异常"})[e],p=e=>({high:"text-red-600",medium:"text-orange-600",low:"text-green-600"})[e],u="all"===x?o:o.filter(e=>e.status===x),j=e=>{c(e),l(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"任务列表"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm pr-8",children:[(0,a.jsx)("option",{value:"all",children:"全部状态"}),(0,a.jsx)("option",{value:"pending",children:"待处理"}),(0,a.jsx)("option",{value:"in-progress",children:"进行中"}),(0,a.jsx)("option",{value:"completed",children:"已完成"}),(0,a.jsx)("option",{value:"exception",children:"异常"})]}),(0,a.jsxs)("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-add-line mr-1"}),"创建任务"]})]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"任务信息"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"执行者"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"时间"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"进度"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("i",{className:"ri-flag-line ml-2 text-sm ".concat(p(e.priority))})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:e.area})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 ".concat("robot"===e.type?"bg-blue-100":"bg-gray-100"),children:(0,a.jsx)("i",{className:"".concat("robot"===e.type?"ri-robot-line text-blue-600":"ri-user-line text-gray-600"," text-sm")})}),(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.assignee})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(h(e.status)),children:g(e.status)})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.startTime," - ",e.endTime]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mr-3",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat("completed"===e.status?"bg-green-500":"in-progress"===e.status?"bg-blue-500":"exception"===e.status?"bg-red-500":"bg-gray-300"),style:{width:"".concat(e.progress,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 whitespace-nowrap",children:[e.progress,"%"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:["completed"===e.status&&(0,a.jsx)("button",{onClick:()=>j(e),className:"text-blue-600 hover:text-blue-900 cursor-pointer",title:"质量复核",children:(0,a.jsx)("i",{className:"ri-eye-line"})}),(0,a.jsx)("button",{className:"text-gray-600 hover:text-gray-900 cursor-pointer",title:"编辑任务",children:(0,a.jsx)("i",{className:"ri-edit-line"})}),(0,a.jsx)("button",{className:"text-red-600 hover:text-red-900 cursor-pointer",title:"删除任务",children:(0,a.jsx)("i",{className:"ri-delete-bin-line"})})]})})]},e.id))})]})})]}),e&&(0,a.jsx)(n,{onClose:()=>s(!1),onSave:()=>s(!1)}),t&&i&&(0,a.jsx)(d,{task:i,onClose:()=>l(!1)})]})}function m(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(""),i=[{id:"1",name:"清洁机器人-01",model:"CleanBot Pro X1",status:"online",battery:85,currentTask:"主通道拖地",location:"主通道区域",lastUpdate:"2分钟前"},{id:"2",name:"清洁机器人-02",model:"CleanBot Pro X1",status:"charging",battery:45,currentTask:null,location:"充电桩A",lastUpdate:"5分钟前"},{id:"3",name:"清洁机器人-03",model:"CleanBot Lite S2",status:"online",battery:92,currentTask:"货架区清扫",location:"货架区B2",lastUpdate:"1分钟前"},{id:"4",name:"清洁机器人-04",model:"CleanBot Pro X1",status:"maintenance",battery:0,currentTask:null,location:"维修区",lastUpdate:"2小时前"}];(0,r.useEffect)(()=>{let e=()=>{l(new Date().toLocaleTimeString())};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]);let n=e=>({online:"bg-green-100 text-green-800",offline:"bg-gray-100 text-gray-800",charging:"bg-yellow-100 text-yellow-800",maintenance:"bg-red-100 text-red-800"})[e],c=e=>({online:"运行中",offline:"离线",charging:"充电中",maintenance:"维护中"})[e],d=e=>e>60?"bg-green-500":e>30?"bg-yellow-500":"bg-red-500",x=e=>{alert("已向机器人 ".concat(e," 发送启动任务指令"))},m=e=>{alert("已向机器人 ".concat(e," 发送停止任务指令"))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"机器人状态监控"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"text-green-600 font-medium",children:i.filter(e=>"online"===e.status).length})," 在线 /",(0,a.jsx)("span",{className:"text-gray-900 font-medium ml-1",children:i.length})," 总计"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,a.jsx)("i",{className:"ri-time-line mr-1"}),"最新更新: ",t]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(t=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(e===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>s(e===t.id?null:t.id),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-robot-2-line text-blue-600 text-lg"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:t.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:t.model})]})]}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(n(t.status)),children:c(t.status)})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"电量"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(d(t.battery)),style:{width:"".concat(t.battery,"%")}})}),(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-900",children:[t.battery,"%"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"当前任务"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 mt-1",children:t.currentTask||"无任务"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"位置"}),(0,a.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.location})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["更新: ",t.lastUpdate]}),"online"===t.status&&(0,a.jsxs)("div",{className:"flex space-x-1",children:[t.currentTask?(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),m(t.id)},className:"text-red-600 hover:text-red-800 cursor-pointer",title:"停止任务",children:(0,a.jsx)("i",{className:"ri-stop-circle-line text-sm"})}):(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),x(t.id)},className:"text-green-600 hover:text-green-800 cursor-pointer",title:"启动任务",children:(0,a.jsx)("i",{className:"ri-play-circle-line text-sm"})}),(0,a.jsx)("button",{onClick:e=>e.stopPropagation(),className:"text-blue-600 hover:text-blue-800 cursor-pointer",title:"详细信息",children:(0,a.jsx)("i",{className:"ri-information-line text-sm"})})]})]})]})]},t.id))})]}),e&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"机器人详细信息"}),(()=>{let s=i.find(s=>s.id===e);return s?(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"基本信息"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"名称:"})," ",s.name]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"型号:"})," ",s.model]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"ID:"})," ",s.id]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"运行状态"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"状态:"})," ",c(s.status)]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"电量:"})," ",s.battery,"%"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"位置:"})," ",s.location]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"任务信息"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"当前任务:"})," ",s.currentTask||"无"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"今日完成:"})," 3个任务"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"运行时长:"})," 4.5小时"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"维护信息"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"上次维护:"})," 7天前"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"运行里程:"})," 125.6km"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"固件版本:"})," v2.1.3"]})]})]})]}):null})()]})]})}function o(){let[e,s]=(0,r.useState)("map");return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l,{}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"智慧保洁管理系统"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"实时监控和管理门店保洁任务"})]}),(0,a.jsx)(i,{}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,a.jsxs)("button",{onClick:()=>s("map"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ".concat("map"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)("i",{className:"ri-map-2-line mr-1"}),"门店地图"]}),(0,a.jsxs)("button",{onClick:()=>s("tasks"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ".concat("tasks"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)("i",{className:"ri-task-line mr-1"}),"任务管理"]}),(0,a.jsxs)("button",{onClick:()=>s("robots"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ".concat("robots"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)("i",{className:"ri-robot-line mr-1"}),"机器人状态"]})]})}),(0,a.jsxs)("div",{className:"mt-6",children:["map"===e&&(0,a.jsx)(c,{}),"tasks"===e&&(0,a.jsx)(x,{}),"robots"===e&&(0,a.jsx)(m,{})]})]})]})]})}},8661:(e,s,t)=>{Promise.resolve().then(t.bind(t,5176))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,493,358],()=>s(8661)),_N_E=e.O()}]);